{"ast":null,"code":"var _jsxFileName = \"/Users/lawrenceoconnor/Documents/GitHub/cop4331-helpinghand/frontend/src/components/edit/edit.js\";\nimport React, { useState } from 'react';\nimport { Grid } from '@material-ui/core';\nimport TaskCard from '../volunteertaskcard/taskcard.js';\nimport Appbar from \"../appbar/appbar.js\";\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport { useLocation } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { setAreas } from '../../redux/actions.js';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport './edit.css';\n\nconst buildPath = require('../../redux/buildPath');\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: 40\n  },\n  image: {\n    marginTop: '5px',\n    height: '100px'\n  },\n  button: {\n    marginTop: '40px',\n    width: '110px',\n    height: '40px',\n    backgroundColor: \"#27AE60\",\n    color: '#FFFFFF'\n  },\n  buttonColor: {\n    backgroundColor: \"#27AE60\",\n    color: '#FFFFFF'\n  }\n}));\n\nfunction Edit(props) {\n  const classes = useStyles();\n  const location = useLocation();\n  let history = useHistory();\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [mylocation, setLocation] = useState('');\n  const [distance, setDistance] = useState(0);\n  const [radius, setRadius] = useState(0);\n  const [message, setMessage] = useState('');\n\n  async function handleEdit(event) {\n    event.preventDefault();\n    var obj = {\n      first_name: firstName,\n      last_name: lastName,\n      location: mylocation,\n      accepted_distance: distance,\n      radius: radius\n    };\n    var js = JSON.stringify(obj);\n\n    try {\n      const response = await fetch(buildPath('/vol/edit'), {\n        method: 'POST',\n        body: js,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var res = JSON.parse(await response.text());\n\n      if (res.id == -1) {\n        alert(JSON.stringify(res.error));\n      } else {\n        var user = {\n          first_name: res.first_name,\n          last_name: res.last_name,\n          location: res.location,\n          accepted_distance: res.accepted_distance,\n          radius: res.radius\n        };\n        localStorage.setItem('user_data', JSON.stringify(user));\n        setMessage('');\n        history.goBack();\n      }\n    } catch (e) {\n      alert(e.toString());\n      return;\n    }\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Appbar, {\n    title: \"Edit Account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Edit2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, \"Edit account details\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"first name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"First Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"editFirstName\",\n    id: \"editFirstName\",\n    onChange: event => setFirstName(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"last name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, \"Last Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"editLastName\",\n    id: \"editLastName\",\n    onChange: event => setLastName(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"Location:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"editLocation\",\n    id: \"editLocation\",\n    onChange: event => setLocation(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"radius\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"Radius:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"radius\",\n    id: \"radius\",\n    onChange: event => setRadius(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Edit Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  })))));\n}\n\nconst mapDispatchToProps = {\n  areaAction: setAreas\n};\nexport default connect(null, mapDispatchToProps)(Edit);","map":{"version":3,"sources":["/Users/lawrenceoconnor/Documents/GitHub/cop4331-helpinghand/frontend/src/components/edit/edit.js"],"names":["React","useState","Grid","TaskCard","Appbar","Typography","TextField","Button","CssBaseline","Paper","Box","useLocation","connect","setAreas","useHistory","makeStyles","buildPath","require","useStyles","theme","root","marginTop","image","height","button","width","backgroundColor","color","buttonColor","Edit","props","classes","location","history","firstName","setFirstName","lastName","setLastName","mylocation","setLocation","distance","setDistance","radius","setRadius","message","setMessage","handleEdit","event","preventDefault","obj","first_name","last_name","accepted_distance","js","JSON","stringify","response","fetch","method","body","headers","res","parse","text","id","alert","error","user","localStorage","setItem","goBack","e","toString","target","value","mapDispatchToProps","areaAction"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Grid } from '@material-ui/core'\nimport TaskCard from '../volunteertaskcard/taskcard.js'\nimport Appbar from \"../appbar/appbar.js\";\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport { useLocation } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { setAreas } from '../../redux/actions.js';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport './edit.css';\n\nconst buildPath = require('../../redux/buildPath');\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: 40,\n  },\n  image: {\n    marginTop: '5px',\n    height: '100px',\n},\n  button: {\n    marginTop: '40px',\n    width: '110px',\n    height: '40px',\n    backgroundColor: \"#27AE60\",\n    color: '#FFFFFF'\n  },\n  buttonColor: {\n    backgroundColor: \"#27AE60\",\n    color: '#FFFFFF',\n  },\n}));\n\nfunction Edit(props) {\n  const classes = useStyles();\n  const location = useLocation();\n  \n  let history = useHistory();\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [mylocation, setLocation] = useState('');\n  const [distance, setDistance] = useState(0);\n  const [radius, setRadius] = useState(0);\n  const [message, setMessage] = useState('');\n  async function handleEdit(event)\n    {\n        event.preventDefault();\n        var obj = { first_name: firstName, last_name: lastName, location: mylocation, accepted_distance: distance, radius: radius};\n \n        var js = JSON.stringify(obj);\n\n        try\n        {\n            const response = await fetch(buildPath('/vol/edit'), {method: 'POST',\n                body: js, headers:{'Content-Type':'application/json'}});\n\n            var res = JSON.parse(await response.text());\n            if (res.id == -1)\n            {\n                alert(JSON.stringify(res.error));\n            }\n            else\n            {\n                var user = {first_name: res.first_name, last_name: res.last_name, location: res.location, accepted_distance: res.accepted_distance, radius: res.radius};\n                localStorage.setItem('user_data', JSON.stringify(user));\n\n                setMessage('');\n                history.goBack();\n            }\n           \n        }\n        catch(e)\n        {\n            alert(e.toString());\n            return;\n        }\n  };\n  \n    return (\n\n      <>\n        <Appbar title={\"Edit Account\"} />\n        <form onSubmit={handleEdit}>\n          <div className = 'Edit2'>\n            <div className = \"form-inner\">\n              <h2>Edit account details</h2>\n              <div className = \"form-group\">\n                <label htmlFor='first name'>First Name:</label>\n                <input \n                type = 'text' \n                name = 'editFirstName' \n                id = 'editFirstName' \n                onChange = {(event) => setFirstName(event.target.value)}\n                />\n              </div>\n              <div className = \"form-group\">\n                <label htmlFor='last name'>Last Name:</label>\n                <input \n                type = 'text' \n                name = 'editLastName' \n                id = 'editLastName' \n                onChange = {(event) => setLastName(event.target.value)}\n                />\n              </div>\n              <div className = \"form-group\">\n                <label htmlFor='location'>Location:</label>\n                <input \n                type = 'text' \n                name = 'editLocation' \n                id = 'editLocation' \n                onChange = {(event) => setLocation(event.target.value)}\n                />\n              </div>\n              <div className = \"form-group\">\n                <label htmlFor='radius'>Radius:</label>\n                <input \n                type = 'text' \n                name = 'radius' \n                id = 'radius' \n                onChange = {(event) => setRadius(event.target.value)}\n                />\n              </div>\n              <input type = \"submit\" value = \"Edit Details\" />\n            </div>\n          </div>\n        </form>\n      </>\n    )\n\n}\nconst mapDispatchToProps = { areaAction: setAreas }\n\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Edit)\n"]},"metadata":{},"sourceType":"module"}