{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lando\\\\Documents\\\\GitHub\\\\cop4331-helpinghand\\\\frontend\\\\src\\\\components\\\\edit\\\\edit.js\";\nimport React, { useState } from 'react';\nimport Appbar from \"../appbar/appbar.js\";\nimport { useLocation } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { setAreas } from '../../redux/actions.js';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport './edit.css';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\n\nconst buildPath = require('../../redux/buildPath');\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: 40\n  },\n  image: {\n    marginTop: '5px',\n    height: '100px'\n  },\n  button: {\n    marginTop: '40px',\n    width: '110px',\n    height: '40px',\n    backgroundColor: \"#27AE60\",\n    color: '#FFFFFF'\n  },\n  buttonColor: {\n    backgroundColor: \"#27AE60\",\n    color: '#FFFFFF'\n  }\n}));\n\nfunction Edit(props) {\n  const classes = useStyles(); //const location = useLocation();\n\n  let history = useHistory();\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [distance, setDistance] = useState(0);\n  const [radius, setRadius] = useState(0);\n  const [message, setMessage] = useState('');\n  const [location, setLocation] = useState(null);\n  const apiKey = 'AIzaSyCVF0U1KIXIVF3WkEhJ84Ps3EnlKt4NtO4';\n  console.log(location);\n\n  async function handleEdit(event) {\n    event.preventDefault();\n    var obj = {\n      first_name: firstName,\n      last_name: lastName,\n      location: location,\n      accepted_distance: distance,\n      radius: radius\n    };\n    var js = JSON.stringify(obj);\n\n    try {\n      const response = await fetch(buildPath('/vol/edit'), {\n        method: 'POST',\n        body: js,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var res = JSON.parse(await response.text());\n\n      if (res.id == -1) {\n        alert(JSON.stringify(res.error));\n      } else {\n        var user = {\n          first_name: res.first_name,\n          last_name: res.last_name,\n          location: res.location,\n          accepted_distance: res.accepted_distance,\n          radius: res.radius\n        };\n        localStorage.setItem('user_data', JSON.stringify(user));\n        setMessage('');\n        history.goBack();\n      }\n    } catch (e) {\n      alert(e.toString());\n      return;\n    }\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Appbar, {\n    title: \"Edit Account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Edit2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, \"Edit account details\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"first name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"First Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"editFirstName\",\n    id: \"editFirstName\",\n    onChange: event => setFirstName(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"last name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"Last Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"editLastName\",\n    id: \"editLastName\",\n    onChange: event => setLastName(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"radius\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"Radius:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"radius\",\n    id: \"radius\",\n    onChange: event => setRadius(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"Location:\"), /*#__PURE__*/React.createElement(GooglePlacesAutocomplete, {\n    selectProps: {\n      location,\n      onChange: setLocation\n    },\n    style: {\n      width: 100\n    },\n    apiOptions: {\n      region: 'us'\n    },\n    apiKey: \"AIzaSyCVF0U1KIXIVF3WkEhJ84Ps3EnlKt4NtO4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 18\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Edit Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  })))));\n}\n\nconst mapDispatchToProps = {\n  areaAction: setAreas\n};\nexport default connect(null, mapDispatchToProps)(Edit);","map":{"version":3,"sources":["C:/Users/lando/Documents/GitHub/cop4331-helpinghand/frontend/src/components/edit/edit.js"],"names":["React","useState","Appbar","useLocation","connect","setAreas","useHistory","makeStyles","GooglePlacesAutocomplete","buildPath","require","useStyles","theme","root","marginTop","image","height","button","width","backgroundColor","color","buttonColor","Edit","props","classes","history","firstName","setFirstName","lastName","setLastName","distance","setDistance","radius","setRadius","message","setMessage","location","setLocation","apiKey","console","log","handleEdit","event","preventDefault","obj","first_name","last_name","accepted_distance","js","JSON","stringify","response","fetch","method","body","headers","res","parse","text","id","alert","error","user","localStorage","setItem","goBack","e","toString","target","value","onChange","region","mapDispatchToProps","areaAction"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAO,YAAP;AACA,OAAOC,wBAAP,MAAqC,kCAArC;;AAEA,MAAMC,SAAS,GAAGC,OAAO,CAAC,uBAAD,CAAzB;;AAEA,MAAMC,SAAS,GAAGJ,UAAU,CAAEK,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,SAAS,EAAE;AADP,GADiC;AAIvCC,EAAAA,KAAK,EAAE;AACLD,IAAAA,SAAS,EAAE,KADN;AAELE,IAAAA,MAAM,EAAE;AAFH,GAJgC;AAQvCC,EAAAA,MAAM,EAAE;AACNH,IAAAA,SAAS,EAAE,MADL;AAENI,IAAAA,KAAK,EAAE,OAFD;AAGNF,IAAAA,MAAM,EAAE,MAHF;AAING,IAAAA,eAAe,EAAE,SAJX;AAKNC,IAAAA,KAAK,EAAE;AALD,GAR+B;AAevCC,EAAAA,WAAW,EAAE;AACXF,IAAAA,eAAe,EAAE,SADN;AAEXC,IAAAA,KAAK,EAAE;AAFI;AAf0B,CAAZ,CAAD,CAA5B;;AAqBA,SAASE,IAAT,CAAcC,KAAd,EAAqB;AACnB,QAAMC,OAAO,GAAGb,SAAS,EAAzB,CADmB,CAEnB;;AAEA,MAAIc,OAAO,GAAGnB,UAAU,EAAxB;AACA,QAAM,CAACoB,SAAD,EAAYC,YAAZ,IAA4B1B,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAAC2B,QAAD,EAAWC,WAAX,IAA0B5B,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC6B,QAAD,EAAWC,WAAX,IAA0B9B,QAAQ,CAAC,CAAD,CAAxC;AACA,QAAM,CAAC+B,MAAD,EAASC,SAAT,IAAsBhC,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACiC,OAAD,EAAUC,UAAV,IAAwBlC,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACmC,QAAD,EAAWC,WAAX,IAA0BpC,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAMqC,MAAM,GAAG,yCAAf;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;;AACA,iBAAeK,UAAf,CAA0BC,KAA1B,EACE;AACIA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIC,GAAG,GAAG;AAAEC,MAAAA,UAAU,EAAEnB,SAAd;AAAyBoB,MAAAA,SAAS,EAAElB,QAApC;AAA8CQ,MAAAA,QAAQ,EAAEA,QAAxD;AAAkEW,MAAAA,iBAAiB,EAAEjB,QAArF;AAA+FE,MAAAA,MAAM,EAAEA;AAAvG,KAAV;AACA,QAAIgB,EAAE,GAAGC,IAAI,CAACC,SAAL,CAAeN,GAAf,CAAT;;AAEA,QACA;AACI,YAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC3C,SAAS,CAAC,WAAD,CAAV,EAAyB;AAAC4C,QAAAA,MAAM,EAAE,MAAT;AACjDC,QAAAA,IAAI,EAAEN,EAD2C;AACvCO,QAAAA,OAAO,EAAC;AAAC,0BAAe;AAAhB;AAD+B,OAAzB,CAA5B;AAGA,UAAIC,GAAG,GAAGP,IAAI,CAACQ,KAAL,CAAW,MAAMN,QAAQ,CAACO,IAAT,EAAjB,CAAV;;AACA,UAAIF,GAAG,CAACG,EAAJ,IAAU,CAAC,CAAf,EACA;AACIC,QAAAA,KAAK,CAACX,IAAI,CAACC,SAAL,CAAeM,GAAG,CAACK,KAAnB,CAAD,CAAL;AACH,OAHD,MAKA;AACI,YAAIC,IAAI,GAAG;AAACjB,UAAAA,UAAU,EAAEW,GAAG,CAACX,UAAjB;AAA6BC,UAAAA,SAAS,EAAEU,GAAG,CAACV,SAA5C;AAAuDV,UAAAA,QAAQ,EAAEoB,GAAG,CAACpB,QAArE;AAA+EW,UAAAA,iBAAiB,EAAES,GAAG,CAACT,iBAAtG;AAAyHf,UAAAA,MAAM,EAAEwB,GAAG,CAACxB;AAArI,SAAX;AACA+B,QAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCf,IAAI,CAACC,SAAL,CAAeY,IAAf,CAAlC;AAEA3B,QAAAA,UAAU,CAAC,EAAD,CAAV;AACAV,QAAAA,OAAO,CAACwC,MAAR;AACH;AAEJ,KAnBD,CAoBA,OAAMC,CAAN,EACA;AACIN,MAAAA,KAAK,CAACM,CAAC,CAACC,QAAF,EAAD,CAAL;AACA;AACH;AACN;;AAAA;AAEC,sBAEE,uDACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAM,IAAA,QAAQ,EAAE1B,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAG,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AACA,IAAA,IAAI,EAAG,MADP;AAEA,IAAA,IAAI,EAAG,eAFP;AAGA,IAAA,EAAE,EAAG,eAHL;AAIA,IAAA,QAAQ,EAAKC,KAAD,IAAWf,YAAY,CAACe,KAAK,CAAC0B,MAAN,CAAaC,KAAd,CAJnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,eAWE;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACA,IAAA,IAAI,EAAG,MADP;AAEA,IAAA,IAAI,EAAG,cAFP;AAGA,IAAA,EAAE,EAAG,cAHL;AAIA,IAAA,QAAQ,EAAK3B,KAAD,IAAWb,WAAW,CAACa,KAAK,CAAC0B,MAAN,CAAaC,KAAd,CAJlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAXF,eAoBE;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AACA,IAAA,IAAI,EAAG,MADP;AAEA,IAAA,IAAI,EAAG,QAFP;AAGA,IAAA,EAAE,EAAG,QAHL;AAIA,IAAA,QAAQ,EAAK3B,KAAD,IAAWT,SAAS,CAACS,KAAK,CAAC0B,MAAN,CAAaC,KAAd,CAJhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CApBF,eA8BE;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAQG,oBAAC,wBAAD;AACO,IAAA,WAAW,EAAE;AACTjC,MAAAA,QADS;AAETkC,MAAAA,QAAQ,EAAEjC;AAFD,KADpB;AAKO,IAAA,KAAK,EAAI;AAACnB,MAAAA,KAAK,EAAE;AAAR,KALhB;AAMO,IAAA,UAAU,EAAE;AAACqD,MAAAA,MAAM,EAAE;AAAT,KANnB;AAOO,IAAA,MAAM,EAAC,yCAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARH,CA9BF,eAiDE;AAAO,IAAA,IAAI,EAAG,QAAd;AAAuB,IAAA,KAAK,EAAG,cAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjDF,CADF,CADF,CAFF,CAFF;AA8DH;;AACD,MAAMC,kBAAkB,GAAG;AAAEC,EAAAA,UAAU,EAAEpE;AAAd,CAA3B;AAGA,eAAeD,OAAO,CACpB,IADoB,EAEpBoE,kBAFoB,CAAP,CAGblD,IAHa,CAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport Appbar from \"../appbar/appbar.js\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { setAreas } from '../../redux/actions.js';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport './edit.css';\r\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\r\n\r\nconst buildPath = require('../../redux/buildPath');\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: 40,\r\n  },\r\n  image: {\r\n    marginTop: '5px',\r\n    height: '100px',\r\n},\r\n  button: {\r\n    marginTop: '40px',\r\n    width: '110px',\r\n    height: '40px',\r\n    backgroundColor: \"#27AE60\",\r\n    color: '#FFFFFF'\r\n  },\r\n  buttonColor: {\r\n    backgroundColor: \"#27AE60\",\r\n    color: '#FFFFFF',\r\n  },\r\n}));\r\n\r\nfunction Edit(props) {\r\n  const classes = useStyles();\r\n  //const location = useLocation();\r\n  \r\n  let history = useHistory();\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [distance, setDistance] = useState(0);\r\n  const [radius, setRadius] = useState(0);\r\n  const [message, setMessage] = useState('');\r\n  const [location, setLocation] = useState(null); \r\n  const apiKey = 'AIzaSyCVF0U1KIXIVF3WkEhJ84Ps3EnlKt4NtO4';\r\n  console.log(location);\r\n  async function handleEdit(event)\r\n    {\r\n        event.preventDefault();\r\n        var obj = { first_name: firstName, last_name: lastName, location: location, accepted_distance: distance, radius: radius};\r\n        var js = JSON.stringify(obj);\r\n\r\n        try\r\n        {\r\n            const response = await fetch(buildPath('/vol/edit'), {method: 'POST',\r\n                body: js, headers:{'Content-Type':'application/json'}});\r\n\r\n            var res = JSON.parse(await response.text());\r\n            if (res.id == -1)\r\n            {\r\n                alert(JSON.stringify(res.error));\r\n            }\r\n            else\r\n            {\r\n                var user = {first_name: res.first_name, last_name: res.last_name, location: res.location, accepted_distance: res.accepted_distance, radius: res.radius};\r\n                localStorage.setItem('user_data', JSON.stringify(user));\r\n\r\n                setMessage('');\r\n                history.goBack();\r\n            }\r\n           \r\n        }\r\n        catch(e)\r\n        {\r\n            alert(e.toString());\r\n            return;\r\n        }\r\n  };\r\n  \r\n    return (\r\n\r\n      <>\r\n        <Appbar title={\"Edit Account\"} />\r\n        <form onSubmit={handleEdit}>\r\n          <div className = 'Edit2'>\r\n            <div className = \"form-inner\">\r\n              <h2>Edit account details</h2>\r\n              <div className = \"form-group\">\r\n                <label htmlFor='first name'>First Name:</label>\r\n                <input \r\n                type = 'text' \r\n                name = 'editFirstName' \r\n                id = 'editFirstName' \r\n                onChange = {(event) => setFirstName(event.target.value)}\r\n                />\r\n              </div>\r\n              <div className = \"form-group\">\r\n                <label htmlFor='last name'>Last Name:</label>\r\n                <input \r\n                type = 'text' \r\n                name = 'editLastName' \r\n                id = 'editLastName' \r\n                onChange = {(event) => setLastName(event.target.value)}\r\n                />\r\n              </div>\r\n              <div className = \"form-group\">\r\n                <label htmlFor='radius'>Radius:</label>\r\n                <input \r\n                type = 'text' \r\n                name = 'radius' \r\n                id = 'radius' \r\n                onChange = {(event) => setRadius(event.target.value)}\r\n                />\r\n              </div>\r\n             \r\n              <div className = \"form-group\">\r\n                <label htmlFor='location'>Location:</label>\r\n                {/* <input \r\n                type = 'text' \r\n                name = 'editLocation' \r\n                id = 'editLocation' \r\n                onChange = {(event) => setLocation(event.target.value)}\r\n                /> */}\r\n                 <GooglePlacesAutocomplete\r\n                        selectProps={{\r\n                            location,\r\n                            onChange: setLocation,\r\n                        }}\r\n                        style = {{width: 100}}\r\n                        apiOptions={{region: 'us' }}\r\n                        apiKey=\"AIzaSyCVF0U1KIXIVF3WkEhJ84Ps3EnlKt4NtO4\"\r\n                    />\r\n              </div>\r\n              \r\n              <input type = \"submit\" value = \"Edit Details\" />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </>\r\n    )\r\n\r\n}\r\nconst mapDispatchToProps = { areaAction: setAreas }\r\n\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(Edit)\r\n"]},"metadata":{},"sourceType":"module"}